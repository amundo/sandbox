<!doctype html>
<html>
<head>
  <meta charset=utf-8>
  <title>
glossing view
  </title>
  <link rel=stylesheet href=css/style.css>
</head>
<body id=glossingView>

<header>
<p><label for=uploadLexicon>upload lexicon</label> <input id=uploadLexicon type=file>
<p><label for=uploadText>upload text</label> <input id=uploadText type=file>
<p><label for=glossText>gloss text from lexicon</label> <button id=glossText>(re)gloss text from lexicon</button>
</header>
<main>
  <!-- <section id=lexicon> </section> -->
  <section id=text> </section>
</main>

<script src=js/ajax.js></script>
<script src=js/models/Lexicon.js></script>
<script src=js/models/Phrase.js></script>
<script src=js/models/Text.js></script>

<script src=js/views/TextView.js></script>
<script src=js/views/GlossingView.js></script>

<script>

var app = {};

app.init = function(){
  var textView = new TextView({
     text: new Text(),
     el: document.querySelector('#text') 
  })

  app.glossingView = new GlossingView({
    textView : textView,
    lexicon : new Lexicon()
  })
  
  app.glossingView.lexicon.loadFromURL('data/lex.json');
  //app.glossingView.text.loadFromURL('http://glyph.local/~pat/Languages/mixtec/papers/smd_accessibility/working_at_calfresh.json');
  app.glossingView.text.loadFromURL('http://glyph.local/~pat/Languages/mixtec/papers/smd_accessibility/pear2015.04.12.json');

}

app.init();

</script>

</body>
</html>
